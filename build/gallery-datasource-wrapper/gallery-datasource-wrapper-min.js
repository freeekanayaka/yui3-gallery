YUI.add("gallery-datasource-wrapper",function(B){function A(){A.superclass.constructor.apply(this,arguments);this._createSchema(this.get("source"));this._attachListeners();}B.mix(A,{NAME:"datasource-wrapper",ATTRS:{source:{value:null,validator:function(C){return this._validateSource(C);}}}});B.extend(A,B.Base,{_validateSource:function(C){if(C instanceof B.DataSource.Local){return true;}return false;},_createSchema:function(D){var C=D.schema;if(!C){return;}C=C.get("schema");this.responseSchema={fields:(C.resultFields||[]),metaFields:(C.metaFields||{}),resultsList:(C.resultListLocator||"")};},_attachListeners:function(){this.after("sourceChange",B.bind(function(D){var C=D.newVal;this._createSchema(C);},this));},responseSchema:null,sendRequest:function(D,C){var E=this.get("source");D=D||"";if(!E){return;}if(B.Lang.isObject(C)===false){return;}E.sendRequest({request:D,callback:{success:B.bind(function(F){C.success.call(this,F.request,F.response,C.argument);},C.scope),failure:B.bind(function(F){C.failure.call(this,F.request,F.response,C.argument);},C.scope)}});}});B.DataSourceWrapper=A;},"@VERSION@",{requires:["base","datasource-local"]});